(this["webpackJsonpmts-mock"]=this["webpackJsonpmts-mock"]||[]).push([[0],{101:function(e,t,n){"use strict";n.r(t);var c=n(2),s=n(0),i=n.n(s),r=n(37),a=n.n(r),u=(n(63),n(43)),o=n(54),l=n(10),j=n(24),b=n(9),d=n(30),m=n.n(d),O=n(52),h=n.n(O),f=function(e){var t=e.useHistory,n=e.useAuth,s=t(),i=n();return Object(c.jsx)("div",{className:"container is-fluid header",children:Object(c.jsxs)("div",{className:"level is-mobile",style:{width:"100%"},children:[Object(c.jsx)("div",{className:"level-left",children:Object(c.jsx)("div",{className:"navbar-brand",children:Object(c.jsx)("a",{className:"navbar-item",href:"https://pagename.com",children:Object(c.jsx)("img",{id:"logo",src:"http://3.23.57.97/static/MTS_logo.png"})})})}),Object(c.jsxs)("div",{className:"level-right is-mobile",children:[Object(c.jsx)("div",{className:"navbar-item",children:Object(c.jsx)(h.a,{})}),Object(c.jsx)("div",{className:"navbar-item",children:Object(c.jsx)(m.a,{})}),Object(c.jsx)("div",{className:"navbar-item",children:Object(c.jsxs)("div",{className:"dropdown is-hoverable",children:[Object(c.jsx)("div",{className:"dropdown-trigger",children:Object(c.jsx)("img",{style:{backgroundColor:"grey"},src:"http://localhost:5500/src/static/person.png","aria-haspopup":"true","aria-controls":"dropdown-menu4"})}),Object(c.jsx)("div",{className:"dropdown-menu",style:{left:"-100px"},id:"dropdown-menu4",role:"menu",children:Object(c.jsx)("div",{className:"dropdown-content",children:Object(c.jsx)("div",{className:"dropdown-item",children:Object(c.jsx)("div",{className:"menu",children:Object(c.jsx)("p",{className:"menu-label",onClick:function(){i.signout((function(){return s.push("/login")}))},children:"Log out"})})})})})]})})]})]})})};var x=Object(b.i)((function(e){var t=e.login,n=Object(s.useState)(""),i=Object(l.a)(n,2),r=i[0],a=i[1],u=Object(s.useState)(""),o=Object(l.a)(u,2),j=o[0],b=o[1],d=Object(s.useState)(!1),m=Object(l.a)(d,2),O=m[0],h=m[1];return Object(s.useEffect)((function(){!0===O&&t()}),[O]),Object(c.jsx)("div",{children:Object(c.jsxs)("form",{onSubmit:function(e){!function(e,t,n){e.preventDefault(),n(!t)}(e,O,h)},children:[Object(c.jsx)("label",{htmlFor:"username",children:"Username"}),Object(c.jsx)("input",{type:"text",name:"username",value:r,onChange:function(e){!function(e,t){t(e.target.value)}(e,a)}}),Object(c.jsx)("label",{htmlFor:"password",children:"Password"}),Object(c.jsx)("input",{type:"password",name:"password",value:j,onChange:function(e){!function(e,t){t(e.target.value)}(e,b)}}),Object(c.jsx)("input",{type:"submit"})]})})}));function g(e){var t=e.setQuery;e.query;return Object(c.jsx)("input",{id:"input",onChange:function(e){t(e.target.value)}})}function v(e){var t=e.setQuery,n=e.query;return Object(c.jsxs)("div",{className:"search-component",children:[Object(c.jsx)("h2",{children:"\u0417\u0430\u043a\u0430\u0437\u044b"}),Object(c.jsx)(g,{setQuery:t,query:n})]})}var p=n(38),N=n.n(p);function y(e){var t=e.number,n=e.clientName,s=e.issueDate,i=e.issueStatus,r=e.openedModal,a=e.setOpenedModal;return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{className:"number1",children:Object(c.jsx)("div",{className:"align-vertically",children:t})}),Object(c.jsx)("td",{className:"client_name",children:Object(c.jsx)("div",{className:"align-vertically",children:n})}),Object(c.jsx)("td",{className:"issue_date",children:Object(c.jsx)("div",{className:"align-vertically",children:s})}),Object(c.jsx)("td",{className:"issue_status",style:{color:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u043d"===i?"#00C19B":"#FA8A64"},children:Object(c.jsx)("div",{className:"align-vertically",children:i})}),Object(c.jsx)("td",{className:"show_more",children:Object(c.jsx)("div",{className:"align-vertically",children:Object(c.jsx)(m.a,{onClick:!0===r?function(){!function(e){e(!1)}(a)}:function(){!function(e){e(!0)}(a)}})})})]})}function S(e){var t=e.currentPage,n=e.setCurrentPage,s=e.numberOfPages;return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)("button",{onClick:function(){n(t<=1?1:t-1)},children:"-"})}),Object(c.jsx)("td",{children:Object(c.jsx)("h3",{children:t})}),Object(c.jsx)("td",{children:Object(c.jsx)("button",{onClick:function(){t>=s?console.log("On the last page"):n(t+1)},children:"+"})})]})}function w(e){var t=e.currentPage,n=e.setCurrentPage,s=e.numberOfPages;return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(S,{currentPage:t,setCurrentPage:n,numberOfPages:s})})}var C=n(26),D=n.n(C),P=n(114);function k(e){var t=e.query,n=e.docs,s=e.sortBy,i=e.currentPage,r=e.setSortBy,a=e.setCurrentPage,u=(e.setQueriedDocs,e.openedModal),o=e.setOpenedModal,l=function(e,t){return/\d/.test(e)?t.filter((function(t){return-1!==t.number.toLowerCase().indexOf(e)})):t.filter((function(t){return-1!==t.clientName.toLowerCase().indexOf(e.toLowerCase())}))}(t,n),j=(l=function(e,t,n,c){var s=[];switch(e){case 0:return t;case 1:return s=t.sort((function(e,t){return e.number>t.number?1:e.number<t.number?-1:0})),console.log(s),s;case-1:return s=t.sort((function(e,t){return e.number<t.number?1:e.number>t.number?-1:0})),console.log(s),s;case 2:return s=t.sort((function(e,t){return e.clientName>t.clientName?1:e.clientName<t.clientName?-1:0})),console.log(s),s;case-2:return s=t.sort((function(e,t){return e.clientName<t.clientName?1:e.clientName>t.clientName?-1:0})),console.log(s),s;case 3:return s=t.sort((function(e,t){var n=e.issueDate.split("."),c=t.issueDate.split("."),s=Date("".concat(n[2],"-").concat(n[1],"-").concat(n[0])),i=Date("".concat(c[2],"-").concat(c[1],"-").concat(c[0]));return s<i?1:s>i?-1:0})),console.log(s),s;case-3:return s=t.sort((function(e,t){var n=e.issueDate.split("."),c=t.issueDate.split("."),s=Date("".concat(n[2],"-").concat(n[1],"-").concat(n[0])),i=Date("".concat(c[2],"-").concat(c[1],"-").concat(c[0]));return s>i?1:s<i?-1:0})),console.log(s),s}}(s,l)).slice(9*(i-1),9*i>l.length-1?l.length:9*i-1);return j=j.map((function(e){return Object(c.jsx)(y,{number:e.number,clientName:e.clientName,issueDate:e.issueDate,issueStatus:e.issueStatus,openedModal:u,setOpenedModal:o},Object(P.a)())})),Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("table",{className:"table",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsxs)("td",{id:"number",children:["N\xba",Object(c.jsx)(D.a,{id:"sort-by-number",onClick:function(){return r(1==s?-1:1)}})]}),Object(c.jsxs)("td",{id:"first",children:["\u041a\u043b\u0438\u0435\u043d\u0442",Object(c.jsx)(D.a,{id:"sort-by-client",onClick:function(){return r(2==s?-2:2)}})]}),Object(c.jsxs)("td",{id:"second",children:["\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u0438\u0435",Object(c.jsx)(D.a,{id:"sort-by-issue",onClick:function(){return r(3==s?-3:3)}})]}),Object(c.jsxs)("td",{id:"third",children:["\u0421\u0442\u0430\u0442\u0443\u0441",Object(c.jsx)(D.a,{id:"sort-by-issue-date",onClick:function(){return r(3==s?-3:3)}})]}),Object(c.jsx)("td",{})]})}),Object(c.jsx)("tbody",{children:j}),Object(c.jsx)("tfoot",{children:Object(c.jsx)(w,{currentPage:i,setCurrentPage:a,numberOfPages:Math.ceil(l.length/9)})})]})})}var M=n(42),A=n.p+"test3.pdf",_=function(){var e=Object(s.useState)(null),t=Object(l.a)(e,2),n=(t[0],t[1]),i=Object(s.useState)(1),r=Object(l.a)(i,2),a=r[0];r[1];return Object(c.jsxs)("div",{className:"modal-window",children:[Object(c.jsx)("div",{className:"modal-window__document",children:Object(c.jsx)(M.a,{file:A,onLoadSuccess:function(e){var t=e.numPages;n(t)},children:Object(c.jsx)(M.b,{pageNumber:a})})}),Object(c.jsx)("h3",{children:"\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0434\u043e\u0433\u043e\u0432\u043e\u0440"})]})},q=n(113);function B(){var e=Object(s.useState)(""),t=Object(l.a)(e,2),n=t[0],i=t[1],r=Object(s.useState)(0),a=Object(l.a)(r,2),u=a[0],o=a[1],j=Object(s.useState)(1),b=Object(l.a)(j,2),d=b[0],m=b[1],O=Object(s.useState)(!1),h=Object(l.a)(O,2),f=h[0],x=h[1],g=Object(s.useState)(!0),p=Object(l.a)(g,2),y=(p[0],p[1]),S=Object(s.useState)(!1),w=Object(l.a)(S,2),C=(w[0],w[1]),D=Object(q.a)(["csrftoken"]),P=Object(l.a)(D,3),M=(P[0],P[1],P[2],Object(s.useState)([{number:"3265482010",clientName:"\u041d\u0438\u043a\u043e\u043b\u0430\u0435\u0432 \u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440 \u041f\u0435\u0442\u0440\u043e\u0432\u0438\u0447",issueDate:"",issueStatus:"\u041e\u0436\u0438\u0434\u0430\u0435\u0442 \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u0438\u044f"},{number:"32654812672",clientName:"\u041b\u0435\u0431\u0435\u0434\u0435\u0432\u0430 \u0421\u0432\u0435\u0442\u043b\u0430\u043d\u0430 \u0418\u0432\u0430\u043d\u043e\u0432\u043d\u0430",issueDate:"",issueStatus:"\u041e\u0436\u0438\u0434\u0430\u0435\u0442 \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u0438\u044f"},{number:"3265409529",clientName:"\u0412\u0435\u0441\u0435\u043b\u043e\u0432 \u0420\u043e\u043c\u0430\u043d \u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440\u043e\u0432\u0438\u0447",issueDate:"16.10.2020",issueStatus:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u043d"},{number:"3265367895",clientName:"\u0420\u043e\u0441\u043b\u044f\u043a\u043e\u0432 \u041c\u0438\u0445\u0430\u0438\u043b \u0418\u0433\u043e\u0440\u0435\u0432\u0438\u0447",issueDate:"16.10.2020",issueStatus:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u043d"},{number:"3265482010",clientName:"\u041d\u0438\u043a\u043e\u043b\u0430\u0435\u0432 \u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440 \u041f\u0435\u0442\u0440\u043e\u0432\u0438\u0447",issueDate:"",issueStatus:"\u041e\u0436\u0438\u0434\u0430\u0435\u0442 \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u0438\u044f"},{number:"32654812672",clientName:"\u041b\u0435\u0431\u0435\u0434\u0435\u0432\u0430 \u0421\u0432\u0435\u0442\u043b\u0430\u043d\u0430 \u0418\u0432\u0430\u043d\u043e\u0432\u043d\u0430",issueDate:"",issueStatus:"\u041e\u0436\u0438\u0434\u0430\u0435\u0442 \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u0438\u044f"},{number:"3265409529",clientName:"\u0412\u0435\u0441\u0435\u043b\u043e\u0432 \u0420\u043e\u043c\u0430\u043d \u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440\u043e\u0432\u0438\u0447",issueDate:"16.10.2020",issueStatus:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u043d"},{number:"3265367895",clientName:"\u0420\u043e\u0441\u043b\u044f\u043a\u043e\u0432 \u041c\u0438\u0445\u0430\u0438\u043b \u0418\u0433\u043e\u0440\u0435\u0432\u0438\u0447",issueDate:"16.10.2020",issueStatus:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u043d"},{number:"3265482010",clientName:"\u041d\u0438\u043a\u043e\u043b\u0430\u0435\u0432 \u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440 \u041f\u0435\u0442\u0440\u043e\u0432\u0438\u0447",issueDate:"",issueStatus:"\u041e\u0436\u0438\u0434\u0430\u0435\u0442 \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u0438\u044f"},{number:"3265482010",clientName:"\u041d\u0438\u043a\u043e\u043b\u0430\u0435\u0432 \u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440 \u041f\u0435\u0442\u0440\u043e\u0432\u0438\u0447",issueDate:"",issueStatus:"\u041e\u0436\u0438\u0434\u0430\u0435\u0442 \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u0438\u044f"},{number:"3265482010",clientName:"\u041d\u0438\u043a\u043e\u043b\u0430\u0435\u0432 \u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440 \u041f\u0435\u0442\u0440\u043e\u0432\u0438\u0447",issueDate:"",issueStatus:"\u041e\u0436\u0438\u0434\u0430\u0435\u0442 \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u0438\u044f"}])),A=Object(l.a)(M,2),B=A[0],F=A[1];return Object(s.useEffect)((function(){!function(e,t){fetch(e,{method:"post",headers:{"Content-Type":"application/json"},body:{first_name:"silly"}}).then((function(e){return e.json()})).then((function(e){t(!1),console.log(e)}),(function(e){console.log("Something went wrong: "+e)}))}("http://3.23.57.97/api-auth/login",C),function(e,t){t(!0),fetch(e).then((function(e){return e.json()})).then((function(e){t(!1),console.log(e)}),(function(e){console.log("Something went wrong: "+e)}))}("http://3.23.57.97/documents",y)}),[]),Object(c.jsxs)("div",{className:"main mx-6",children:[Object(c.jsx)(v,{query:n,setQuery:i}),Object(c.jsx)(k,{query:n,docs:B,setDocs:F,sortBy:u,currentPage:d,setCurrentPage:m,setSortBy:o,openedModal:f,setOpenedModal:x}),Object(c.jsx)(N.a,{visible:f,width:"50%",height:"80%",effect:"fadeInUp",onClickAway:function(){return function(e){e(!1)}(x)},children:Object(c.jsx)(_,{})})]})}function F(){return Object(c.jsx)(T,{children:Object(c.jsxs)(j.a,{basename:"mts-mock",children:[Object(c.jsx)(H,{}),Object(c.jsxs)(b.d,{children:[Object(c.jsx)(b.b,{path:"/login",children:Object(c.jsx)(U,{})}),Object(c.jsx)(I,{path:"/main",children:Object(c.jsx)(J,{})})]})]})})}var L={isAuthenticated:!1,signin:function(e){L.isAuthenticated=!0,setTimeout(e,100)},signout:function(e){L.isAuthenticated=!1,setTimeout(e,100)}},Q=Object(s.createContext)();function T(e){var t=e.children,n=function(){var e=Object(s.useState)(null),t=Object(l.a)(e,2),n=t[0],c=t[1];return{user:n,signin:function(e){return L.signin((function(){c("user"),e()}))},signout:function(e){return L.signout((function(){c(null),e()}))}}}();return Object(c.jsx)(Q.Provider,{value:n,children:t})}function E(){return Object(s.useContext)(Q)}function H(){Object(b.g)();return E().user?Object(c.jsx)("p",{}):Object(c.jsx)("div",{children:Object(c.jsx)(j.b,{to:"/main",children:"Click me"})})}function I(e){var t=e.children,n=Object(o.a)(e,["children"]),s=E();return Object(c.jsx)(b.b,Object(u.a)(Object(u.a)({},n),{},{render:function(e){var n=e.location;return s.user?t:Object(c.jsx)(b.a,{to:{pathname:"/login",state:{from:n}}})}}))}function J(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(f,{useHistory:b.g,useAuth:E}),Object(c.jsx)(B,{})]})}function U(){var e=Object(b.g)(),t=Object(b.h)(),n=E(),s=(t.state||{from:{pathname:"/main"}}).from;return Object(c.jsx)(x,{login:function(){n.signin((function(){e.replace(s)}))}})}a.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(F,{})}),document.getElementById("root"))},63:function(e,t,n){},95:function(e,t){},96:function(e,t){},97:function(e,t){},98:function(e,t){},99:function(e,t){}},[[101,1,2]]]);
//# sourceMappingURL=main.9e2ad90f.chunk.js.map