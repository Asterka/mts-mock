(this["webpackJsonpmts-mock"]=this["webpackJsonpmts-mock"]||[]).push([[0],{102:function(e,t,n){"use strict";n.r(t);var c=n(2),s=n(0),r=n.n(s),i=n(37),a=n.n(i),u=(n(64),n(31)),o=n.n(u),j=n(53),l=n.n(j),b=n(52),d=n.n(b),O=function(){return Object(c.jsx)("div",{className:"navbar is-fluid",children:Object(c.jsxs)("div",{className:"level is-fluid",children:[Object(c.jsx)("div",{className:"level-left",children:Object(c.jsx)("div",{className:"navbar-brand",children:Object(c.jsx)("a",{className:"navbar-item",href:"https://pagename.com",children:Object(c.jsx)("img",{id:"logo",src:"http://3.23.57.97/static/MTS_logo.png"})})})}),Object(c.jsxs)("div",{className:"level-right",children:[Object(c.jsx)("div",{className:"navbar-item",children:Object(c.jsx)(d.a,{})}),Object(c.jsx)("div",{className:"navbar-item",children:Object(c.jsx)(o.a,{})}),Object(c.jsx)("div",{className:"navbar-item",children:Object(c.jsx)(l.a,{})})]})]})})},m=n(10);function f(e){var t=e.setQuery;e.query;return Object(c.jsx)("input",{id:"input",onChange:function(e){t(e.target.value)}})}function h(e){var t=e.setQuery,n=e.query;return Object(c.jsxs)("div",{className:"search-component",children:[Object(c.jsx)("h2",{children:"\u0417\u0430\u043a\u0430\u0437\u044b"}),Object(c.jsx)(f,{setQuery:t,query:n})]})}var x=n(38),g=n.n(x);function v(e){var t=e.number,n=e.clientName,s=e.issueDate,r=e.issueStatus,i=e.openedModal,a=e.setOpenedModal;return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{className:"number1",children:t}),Object(c.jsx)("td",{className:"client_name",children:n}),Object(c.jsx)("td",{className:"issue_date",children:s}),Object(c.jsx)("td",{className:"issue_status",style:{color:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u043d"===r?"#00C19B":"#FA8A64"},children:r}),Object(c.jsx)("td",{className:"show_more",children:Object(c.jsx)(o.a,{onClick:!0===i?function(){!function(e){e(!1)}(a)}:function(){!function(e){e(!0)}(a)}})})]})}function p(e){var t=e.currentPage,n=e.setCurrentPage,s=e.numberOfPages;return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)("button",{onClick:function(){n(t<=1?1:t-1)},children:"-"})}),Object(c.jsx)("td",{children:Object(c.jsx)("h3",{children:t})}),Object(c.jsx)("td",{children:Object(c.jsx)("button",{onClick:function(){t>=s?console.log("On the last page"):n(t+1)},children:"+"})})]})}function N(e){var t=e.currentPage,n=e.setCurrentPage,s=e.numberOfPages;return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(p,{currentPage:t,setCurrentPage:n,numberOfPages:s})})}var S=n(27),y=n.n(S),C=n(114);function D(e){var t=e.query,n=e.docs,s=e.sortBy,r=e.currentPage,i=e.setSortBy,a=e.setCurrentPage,u=(e.setQueriedDocs,e.openedModal),o=e.setOpenedModal,j=function(e,t){return/\d/.test(e)?t.filter((function(t){return-1!==t.number.toLowerCase().indexOf(e)})):t.filter((function(t){return-1!==t.clientName.toLowerCase().indexOf(e.toLowerCase())}))}(t,n),l=(j=function(e,t,n,c){var s=[];switch(e){case 0:return t;case 1:return s=t.sort((function(e,t){return e.number>t.number?1:e.number<t.number?-1:0})),console.log(s),s;case-1:return s=t.sort((function(e,t){return e.number<t.number?1:e.number>t.number?-1:0})),console.log(s),s;case 2:return s=t.sort((function(e,t){return e.clientName>t.clientName?1:e.clientName<t.clientName?-1:0})),console.log(s),s;case-2:return s=t.sort((function(e,t){return e.clientName<t.clientName?1:e.clientName>t.clientName?-1:0})),console.log(s),s;case 3:return s=t.sort((function(e,t){var n=e.issueDate.split("."),c=t.issueDate.split("."),s=Date("".concat(n[2],"-").concat(n[1],"-").concat(n[0])),r=Date("".concat(c[2],"-").concat(c[1],"-").concat(c[0]));return s<r?1:s>r?-1:0})),console.log(s),s;case-3:return s=t.sort((function(e,t){var n=e.issueDate.split("."),c=t.issueDate.split("."),s=Date("".concat(n[2],"-").concat(n[1],"-").concat(n[0])),r=Date("".concat(c[2],"-").concat(c[1],"-").concat(c[0]));return s>r?1:s<r?-1:0})),console.log(s),s}}(s,j)).slice(9*(r-1),9*r>j.length-1?j.length:9*r-1);return l=l.map((function(e){return Object(c.jsx)(v,{number:e.number,clientName:e.clientName,issueDate:e.issueDate,issueStatus:e.issueStatus,openedModal:u,setOpenedModal:o},Object(C.a)())})),Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("table",{className:"table",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsxs)("td",{id:"number",children:["N\xba",Object(c.jsx)(y.a,{id:"sort-by-number",onClick:function(){return i(1==s?-1:1)}})]}),Object(c.jsxs)("td",{id:"first",children:["\u041a\u043b\u0438\u0435\u043d\u0442",Object(c.jsx)(y.a,{id:"sort-by-client",onClick:function(){return i(2==s?-2:2)}})]}),Object(c.jsxs)("td",{id:"second",children:["\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u0438\u0435",Object(c.jsx)(y.a,{id:"sort-by-issue",onClick:function(){return i(3==s?-3:3)}})]}),Object(c.jsxs)("td",{id:"third",children:["\u0421\u0442\u0430\u0442\u0443\u0441",Object(c.jsx)(y.a,{id:"sort-by-issue-date",onClick:function(){return i(3==s?-3:3)}})]}),Object(c.jsx)("td",{})]})}),Object(c.jsx)("tbody",{children:l}),Object(c.jsx)("tfoot",{children:Object(c.jsx)(N,{currentPage:r,setCurrentPage:a,numberOfPages:Math.ceil(j.length/9)})})]})})}var w=n(42),P=n.p+"test3.pdf",k=function(){var e=Object(s.useState)(null),t=Object(m.a)(e,2),n=(t[0],t[1]),r=Object(s.useState)(1),i=Object(m.a)(r,2),a=i[0];i[1];return Object(c.jsxs)("div",{className:"modal-window",children:[Object(c.jsx)("div",{className:"modal-window__document",children:Object(c.jsx)(w.a,{file:P,onLoadSuccess:function(e){var t=e.numPages;n(t)},children:Object(c.jsx)(w.b,{pageNumber:a})})}),Object(c.jsx)("h3",{children:"\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0434\u043e\u0433\u043e\u0432\u043e\u0440"})]})},M=n(113);function _(){var e=Object(s.useState)(""),t=Object(m.a)(e,2),n=t[0],r=t[1],i=Object(s.useState)(0),a=Object(m.a)(i,2),u=a[0],o=a[1],j=Object(s.useState)(1),l=Object(m.a)(j,2),b=l[0],d=l[1],O=Object(s.useState)(!1),f=Object(m.a)(O,2),x=f[0],v=f[1],p=Object(s.useState)(!0),N=Object(m.a)(p,2),S=(N[0],N[1]),y=Object(s.useState)(!1),C=Object(m.a)(y,2),w=(C[0],C[1]),P=Object(M.a)(["csrftoken"]),_=Object(m.a)(P,3),q=(_[0],_[1],_[2],Object(s.useState)([{number:"3265482010",clientName:"\u041d\u0438\u043a\u043e\u043b\u0430\u0435\u0432 \u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440 \u041f\u0435\u0442\u0440\u043e\u0432\u0438\u0447",issueDate:"",issueStatus:"\u041e\u0436\u0438\u0434\u0430\u0435\u0442 \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u0438\u044f"},{number:"32654812672",clientName:"\u041b\u0435\u0431\u0435\u0434\u0435\u0432\u0430 \u0421\u0432\u0435\u0442\u043b\u0430\u043d\u0430 \u0418\u0432\u0430\u043d\u043e\u0432\u043d\u0430",issueDate:"",issueStatus:"\u041e\u0436\u0438\u0434\u0430\u0435\u0442 \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u0438\u044f"},{number:"3265409529",clientName:"\u0412\u0435\u0441\u0435\u043b\u043e\u0432 \u0420\u043e\u043c\u0430\u043d \u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440\u043e\u0432\u0438\u0447",issueDate:"16.10.2020",issueStatus:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u043d"},{number:"3265367895",clientName:"\u0420\u043e\u0441\u043b\u044f\u043a\u043e\u0432 \u041c\u0438\u0445\u0430\u0438\u043b \u0418\u0433\u043e\u0440\u0435\u0432\u0438\u0447",issueDate:"16.10.2020",issueStatus:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u043d"},{number:"3265482010",clientName:"\u041d\u0438\u043a\u043e\u043b\u0430\u0435\u0432 \u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440 \u041f\u0435\u0442\u0440\u043e\u0432\u0438\u0447",issueDate:"",issueStatus:"\u041e\u0436\u0438\u0434\u0430\u0435\u0442 \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u0438\u044f"},{number:"32654812672",clientName:"\u041b\u0435\u0431\u0435\u0434\u0435\u0432\u0430 \u0421\u0432\u0435\u0442\u043b\u0430\u043d\u0430 \u0418\u0432\u0430\u043d\u043e\u0432\u043d\u0430",issueDate:"",issueStatus:"\u041e\u0436\u0438\u0434\u0430\u0435\u0442 \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u0438\u044f"},{number:"3265409529",clientName:"\u0412\u0435\u0441\u0435\u043b\u043e\u0432 \u0420\u043e\u043c\u0430\u043d \u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440\u043e\u0432\u0438\u0447",issueDate:"16.10.2020",issueStatus:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u043d"},{number:"3265367895",clientName:"\u0420\u043e\u0441\u043b\u044f\u043a\u043e\u0432 \u041c\u0438\u0445\u0430\u0438\u043b \u0418\u0433\u043e\u0440\u0435\u0432\u0438\u0447",issueDate:"16.10.2020",issueStatus:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u043d"},{number:"3265482010",clientName:"\u041d\u0438\u043a\u043e\u043b\u0430\u0435\u0432 \u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440 \u041f\u0435\u0442\u0440\u043e\u0432\u0438\u0447",issueDate:"",issueStatus:"\u041e\u0436\u0438\u0434\u0430\u0435\u0442 \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u0438\u044f"},{number:"3265482010",clientName:"\u041d\u0438\u043a\u043e\u043b\u0430\u0435\u0432 \u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440 \u041f\u0435\u0442\u0440\u043e\u0432\u0438\u0447",issueDate:"",issueStatus:"\u041e\u0436\u0438\u0434\u0430\u0435\u0442 \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u0438\u044f"},{number:"3265482010",clientName:"\u041d\u0438\u043a\u043e\u043b\u0430\u0435\u0432 \u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440 \u041f\u0435\u0442\u0440\u043e\u0432\u0438\u0447",issueDate:"",issueStatus:"\u041e\u0436\u0438\u0434\u0430\u0435\u0442 \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u0438\u044f"}])),A=Object(m.a)(q,2),B=A[0],F=A[1];return Object(s.useEffect)((function(){!function(e,t){fetch(e,{method:"post",headers:{"Content-Type":"application/json"},body:{first_name:"silly"}}).then((function(e){return e.json()})).then((function(e){t(!1),console.log(e)}),(function(e){console.log("Something went wrong: "+e)}))}("http://3.23.57.97/api-auth/login",w),function(e,t){t(!0),fetch(e).then((function(e){return e.json()})).then((function(e){t(!1),console.log(e)}),(function(e){console.log("Something went wrong: "+e)}))}("http://3.23.57.97/documents",S)}),[]),Object(c.jsxs)("div",{className:"main mx-6",children:[Object(c.jsx)(h,{query:n,setQuery:r}),Object(c.jsx)(D,{query:n,docs:B,setDocs:F,sortBy:u,currentPage:b,setCurrentPage:d,setSortBy:o,openedModal:x,setOpenedModal:v}),Object(c.jsx)(g.a,{visible:x,width:"50%",height:"80%",effect:"fadeInUp",onClickAway:function(){return function(e){e(!1)}(v)},children:Object(c.jsx)(k,{})})]})}var q=n(43),A=n(55),B=n(25),F=n(9);var Q=Object(F.i)((function(e){var t=e.login,n=Object(s.useState)(""),r=Object(m.a)(n,2),i=r[0],a=r[1],u=Object(s.useState)(""),o=Object(m.a)(u,2),j=o[0],l=o[1],b=Object(s.useState)(!1),d=Object(m.a)(b,2),O=d[0],f=d[1];return Object(s.useEffect)((function(){!0===O&&t()}),[O]),Object(c.jsx)("div",{children:Object(c.jsxs)("form",{onSubmit:function(e){!function(e,t,n){e.preventDefault(),n(!t)}(e,O,f)},children:[Object(c.jsx)("label",{htmlFor:"username",children:"Username"}),Object(c.jsx)("input",{type:"text",name:"username",value:i,onChange:function(e){!function(e,t){t(e.target.value)}(e,a)}}),Object(c.jsx)("label",{htmlFor:"password",children:"Password"}),Object(c.jsx)("input",{type:"password",name:"password",value:j,onChange:function(e){!function(e,t){t(e.target.value)}(e,l)}}),Object(c.jsx)("input",{type:"submit"})]})})}));function L(){return Object(c.jsx)(I,{children:Object(c.jsxs)(B.a,{basename:"mts-mock",children:[Object(c.jsx)(U,{}),Object(c.jsxs)(F.d,{children:[Object(c.jsx)(F.b,{path:"/login",children:Object(c.jsx)(H,{})}),Object(c.jsx)(z,{path:"/main",children:Object(c.jsx)(G,{})})]})]})})}var T={isAuthenticated:!1,signin:function(e){T.isAuthenticated=!0,setTimeout(e,100)},signout:function(e){T.isAuthenticated=!1,setTimeout(e,100)}},E=Object(s.createContext)();function I(e){var t=e.children,n=function(){var e=Object(s.useState)(null),t=Object(m.a)(e,2),n=t[0],c=t[1];return{user:n,signin:function(e){return T.signin((function(){c("user"),e()}))},signout:function(e){return T.signout((function(){c(null),e()}))}}}();return Object(c.jsx)(E.Provider,{value:n,children:t})}function J(){return Object(s.useContext)(E)}function U(){var e=Object(F.g)(),t=J();return t.user?Object(c.jsx)("p",{children:Object(c.jsx)("button",{onClick:function(){t.signout((function(){return e.push("/login")}))},children:"Sign out"})}):Object(c.jsx)("div",{children:Object(c.jsx)(B.b,{to:"/main"})})}function z(e){var t=e.children,n=Object(A.a)(e,["children"]),s=J();return Object(c.jsx)(F.b,Object(q.a)(Object(q.a)({},n),{},{render:function(e){var n=e.location;return s.user?t:Object(c.jsx)(F.a,{to:{pathname:"/login",state:{from:n}}})}}))}function G(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(O,{}),Object(c.jsx)(_,{})]})}function H(){var e=Object(F.g)(),t=Object(F.h)(),n=J(),s=(t.state||{from:{pathname:"/main"}}).from;return Object(c.jsx)(Q,{login:function(){n.signin((function(){e.replace(s)}))}})}a.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(L,{})}),document.getElementById("root"))},64:function(e,t,n){},95:function(e,t){},96:function(e,t){},97:function(e,t){},98:function(e,t){},99:function(e,t){}},[[102,1,2]]]);
//# sourceMappingURL=main.dff75ccc.chunk.js.map